<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
   <h:head>
      <title>#{lang.indexTitle}</title>
       <script>
           setInterval(function(){
               document.getElementById("form:cBtn_showHour").click();
               document.getElementById("form:cBtn_showDay").click();
           },1000);
       </script>
       <h:outputStylesheet name="index.css"/>
       <h:outputStylesheet name="language-switch-button.css"/>
       <link rel="stylesheet" type="text/css" href="resources/search-box.css"/>
   </h:head>

   <h:body styleClass="Bimage">
      <h:form id="form">
         <h1 class="header">#{lang.indexHeader}</h1>
         <br/> <br/> <br/>

          <div class="menu">
              <div class="menu__item">
                  <h:commandButton id="iBtn_customer_tracking"
                                   image="images/iBtn_customer_tracking.png"/>
                  <div class="menu__item--large">#{lang.indexCustomerTracking}</div>
              </div>

              <div class="menu__item">
                  <h:commandButton id="iBtn_administraton"
                                   image="images/iBtn_administration.png"/>
                  <div class="menu__item--large">#{lang.indexAdministration}</div>
              </div>

              <div class="menu__item">
                  <h:commandButton id="iBtn_event_logging"
                                   image="images/iBtn_event.png"/>
                  <div class="menu__item--large">#{lang.indexEventLogging}</div>
              </div>
          </div>

          <div>
              <h:selectOneRadio class="language-switch-button"
                                onclick="this.form.submit()"
                                valueChangeListener="#{resourceController.onLanguageSelectedListener}"
                                value="#{resourceController.current_lang}">
                    <f:selectItems value="#{resourceController.langList}"/>
              </h:selectOneRadio>
          </div>

          <div id="search-panel">
              <h:inputText autocomplete="off"
                           value="#{searchBoxController.display}">
                  <f:passThroughAttribute name="placeHolder"
                                          value="Search ..."/>
                  <f:ajax event="keyup"
                          listener="#{searchBoxController.search}"
                          execute="@this" render="result-panel"/>
              </h:inputText>
              <h:panelGroup id="result-panel"
                            layout="block" style="max-height: 30px">
                  <ul>
                      <ui:repeat value="#{searchBoxController.result}"
                                 var="r">
                          <li>#{r}</li>
                      </ui:repeat>
                  </ul>
              </h:panelGroup>
          </div>

          <div id="div_clock">
              <h:outputText id="outTxt_hourClock"
                            value="#{timeController.hour}"
                            styleClass="text--blue text--large"/> <br/>
              <h:outputText id="outTxt_dayClock"
                            value="#{timeController.day}"
                            styleClass="text--brown"/> <br/>
              <h:commandButton id="cBtn_showHour"
                               styleClass="button--hidden"
                               action="#{timeController.showHour}">
                  <f:ajax render="outTxt_hourClock"/>
              </h:commandButton>
              <h:commandButton id="cBtn_showDay"
                               styleClass="button--hidden"
                               action="#{timeController.showDay}">
                  <f:ajax render="outTxt_dayClock"/>
              </h:commandButton>
          </div>
      </h:form>
   </h:body>
</html>
